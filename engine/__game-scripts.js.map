{"version":3,"sources":["Scripts/character-controller.js","Scripts/virtual-joystick.js","Scripts/first-person-view.js","Scripts/scene-manager.js","Scripts/ui-manager.js","Scripts/screenshot.js"],"names":[],"mappings":"AACA,IAAI,oBAAsB,GAAG,aAAa,uBAE1C,oBAAoB,WAAW,IAAI,QAAS,CAAE,KAAM,SAAU,QAAS,IACvE,oBAAoB,WAAW,IAAI,cAAe,CAAE,KAAM,SAAU,QAAS,MAE7E,oBAAoB,UAAU,WAAa,WACvC,KAAK,eAAiB,IAAI,GAAG,KAAK,GAAI,IAAK,GAC3C,KAAK,OAAS,IAAI,GAAG,KAErB,KAAK,aAAe,IAAI,GAAG,KAC3B,KAAK,UAAW,EAChB,KAAK,SAAU,GAGnB,oBAAoB,UAAU,KAAO,SAAU,GAC3C,GAAI,KAAK,WAAa,KAAK,QAAS,CAChC,IAAI,EAAM,IAAI,GAAG,KAEb,EAAS,EAAU,SACnB,EAAS,IACT,EAAI,MAAM,KAAK,aAAc,GAAW,MAAM,EAAK,KAAK,cACxD,EAAI,YAAY,MAAM,EAAS,KAAK,QAExC,KAAK,OAAO,UAAU,eAAiB,IAI/C,oBAAoB,UAAU,KAAO,WAC7B,KAAK,WAAa,KAAK,UACvB,KAAK,OAAO,UAAU,aAAa,EAAG,KAAK,YAAa,GACxD,KAAK,UAAW,EAChB,KAAK,SAAU,EACf,WAAW,WACP,KAAK,SAAU,GACjB,KAAK,MAAO,OAItB,oBAAoB,UAAU,OAAS,SAAS,GAC5C,IAAI,EAAM,KAAK,OAAO,cACtB,KAAK,OAAO,KAAK,EAAK,KAAK,gBAE3B,IAAI,EAAS,KAAK,IAAI,QAAQ,UAAU,aAAa,EAAK,KAAK,QAC/D,KAAK,WAAa,EACd,GACA,KAAK,aAAa,KAAK,EAAO,SC7CtC,IAAI,gBAAkB,GAAG,aAAa,mBAEtC,gBAAgB,WAAW,IAAI,QAAS,CAAE,KAAM,WAChD,gBAAgB,WAAW,IAAI,cAAe,CAAE,KAAM,WACtD,gBAAgB,WAAW,IAAI,YAAa,CAAE,KAAM,WACpD,gBAAgB,WAAW,IAAI,eAAgB,CAAE,KAAM,WAEvD,gBAAgB,UAAU,WAAa,WACnC,IAAI,EAAM,KAAK,IAEf,EAAI,GAAG,KAAK,aAAa,SAAU,EAAG,GAClC,KAAK,OAAO,iBAAiB,GAAI,EAAG,GACpC,KAAK,MAAM,iBAAiB,GAAI,EAAG,GAEnC,KAAK,OAAO,QAAQ,SAAU,EAC9B,KAAK,MAAM,QAAQ,SAAU,IAC9B,MACH,EAAI,GAAG,KAAK,WAAW,SAAU,EAAG,GAChC,KAAK,MAAM,iBAAiB,GAAI,EAAG,KACpC,MACH,EAAI,GAAG,KAAK,cAAc,WACtB,KAAK,OAAO,QAAQ,SAAU,EAC9B,KAAK,MAAM,QAAQ,SAAU,IAC9B,OCpBP,IAAI,gBAAkB,GAAG,aAAa,mBAEtC,gBAAgB,WAAW,IAAI,SAAU,CAAE,KAAM,WAEjD,gBAAgB,UAAU,WAAa,WACnC,IAAI,EAAM,KAAK,IAEf,KAAK,EAAI,IAAI,GAAG,KAChB,KAAK,EAAI,IAAI,GAAG,KAChB,KAAK,QAAU,IAAI,GAAG,KACtB,KAAK,UAAY,IAAI,GAAG,KAExB,KAAK,QAAU,EACf,KAAK,UAAY,EAGjB,IAAI,EAAO,KAAK,OAAO,QAAQ,QAC/B,EAAK,EAAI,EACT,EAAK,YACL,KAAK,QAAU,KAAK,OAAO,EAAK,GAAI,EAAK,IAAM,IAAM,KAAK,KAEhD,IAAI,GAAG,MAAO,iBAAiB,GAAG,KAAK,IAAK,KAAK,SACvD,gBAAgB,KAAK,OAAO,QAAS,GACzC,KAAK,UAAY,KAAK,KAAK,EAAK,EAAG,EAAK,IAAM,IAAM,KAAK,IAEzD,KAAK,QAAU,EACf,KAAK,OAAS,EACd,KAAK,MAAO,EACZ,KAAK,IAAM,EAEX,EAAI,GAAG,uBAAuB,SAAU,GACpC,KAAK,QAAU,IAChB,MACH,EAAI,GAAG,sBAAsB,SAAU,GACnC,KAAK,OAAS,IACf,MACH,EAAI,GAAG,oBAAoB,SAAU,EAAc,GAC/C,KAAK,SAAW,EAChB,KAAK,WAAa,EAClB,KAAK,UAAY,GAAG,KAAK,MAAM,KAAK,WAAY,GAAI,MACrD,MACH,EAAI,GAAG,oBAAoB,WACvB,KAAK,MAAO,IACb,MAGH,EAAI,GAAG,0BAA2B,KAAK,cAAe,MAEtD,EAAI,GAAG,yBAAyB,SAAU,EAAS,GAC/C,KAAK,QAAU,EACf,KAAK,UAAY,IAClB,OAGP,gBAAgB,UAAU,WAAa,SAAS,GAE5C,KAAK,OAAO,eAAe,KAAK,UAAW,KAAK,QAAS,GAGzD,KAAK,EAAE,KAAK,KAAK,OAAO,SACxB,KAAK,EAAE,EAAI,EACX,KAAK,EAAE,YAEP,KAAK,EAAE,KAAK,KAAK,OAAO,OACxB,KAAK,EAAE,EAAI,EACX,KAAK,EAAE,YAEP,KAAK,QAAQ,IAAI,EAAG,EAAG,GAGF,IAAjB,KAAK,UACL,KAAK,EAAE,MAAM,KAAK,SAClB,KAAK,QAAQ,IAAI,KAAK,IAIN,IAAhB,KAAK,SACL,KAAK,EAAE,MAAM,KAAK,QAClB,KAAK,QAAQ,IAAI,KAAK,IAGtB,KAAK,QAAQ,SAAW,OACxB,KAAK,UAAU,IAAI,KAAK,QAAS,KAAK,QACtC,KAAK,QAAQ,YAAY,MAAM,KAAK,UAAU,WAG9C,KAAK,OACL,KAAK,OAAO,OAAO,oBAAoB,OACvC,KAAK,MAAO,GAGhB,KAAK,OAAO,OAAO,oBAAoB,KAAK,KAAK,SAEjD,IAAI,EAAM,KAAK,OAAO,cACtB,KAAK,IAAI,KAAK,aAAc,IAGhC,gBAAgB,UAAU,YAAc,WACpC,KAAK,QAAU,EACf,KAAK,UAAY,GAMrB,IAAI,cAAgB,GAAG,aAAa,iBAEpC,cAAc,UAAU,WAAa,WACjC,IAAI,EAAM,KAAK,IAEX,eAAiB,SAAU,EAAS,GAEpC,OAAQ,GACJ,KAAK,GACL,KAAK,GAED,EAAI,KAAK,uBAAwB,GACjC,MACJ,KAAK,GACL,KAAK,GAED,EAAI,KAAK,sBAAuB,GAChC,MACJ,KAAK,GACL,KAAK,GAED,EAAI,KAAK,qBAAsB,GAC/B,MACJ,KAAK,GACL,KAAK,GAED,EAAI,KAAK,sBAAuB,KAKxC,QAAU,SAAU,GACf,EAAE,SACH,eAAe,EAAE,QAAS,GAER,KAAd,EAAE,SACF,EAAI,KAAK,sBAKjB,MAAQ,SAAU,GAClB,eAAe,EAAE,QAAS,IAI1B,kBAAoB,WACpB,OAAO,iBAAiB,UAAW,SAAS,GAC5C,OAAO,iBAAiB,QAAS,OAAO,IAO5C,KAAK,GAAG,SAAU,mBAClB,KAAK,GAAG,WANmB,WACvB,OAAO,iBAAiB,UAAW,SAAS,GAC5C,OAAO,iBAAiB,QAAS,OAAO,MAM5C,qBAIJ,IAAI,WAAa,GAAG,aAAa,cA+CjC,SAAS,oBAAoB,EAAK,EAAa,EAAa,GACxD,IAAI,EAAY,EAAI,SAEpB,GAAI,EAAY,EAAa,CACzB,IAAI,EAAa,EAAI,EAAe,EAEhC,EADgB,KAAK,IAAI,GAAI,EAAY,GAAe,GAChC,EAC5B,EAAY,KAAK,GAAK,MAAM,QAE5B,EAAY,IAAI,EAAG,GAtD3B,WAAW,UAAU,WAAa,WAC9B,IAAI,EAAM,KAAK,IAIX,GAHS,EAAI,eAAe,OAGhB,SAAU,GACtB,KAAK,YAAa,IAGlB,UAAY,SAAU,GACtB,IAAwB,IAApB,KAAK,WAAqB,CAC1B,IAAI,EAAY,MAAM,WAAa,MAAM,iBAAmB,MAAM,cAAgB,EAC9E,EAAY,MAAM,WAAa,MAAM,iBAAmB,MAAM,cAAgB,EAIlF,EAAI,KAAK,oBAAqB,EAAY,EAAG,EAAY,KAI7D,QAAU,SAAU,GACpB,KAAK,YAAa,GAGlB,kBAAoB,WACpB,OAAO,iBAAiB,YAAa,GAAW,GAChD,OAAO,iBAAiB,YAAa,WAAW,GAChD,OAAO,iBAAiB,UAAW,SAAS,IAQhD,KAAK,GAAG,SAAU,mBAClB,KAAK,GAAG,WAPmB,WACvB,OAAO,oBAAoB,YAAa,GAAW,GACnD,OAAO,oBAAoB,YAAa,WAAW,GACnD,OAAO,oBAAoB,UAAW,SAAS,MAMnD,qBAqBJ,IAAI,WAAa,GAAG,aAAa,cAEjC,WAAW,WAAW,IAAI,WAAY,CAClC,MAAO,YACP,YAAa,iMACb,KAAM,SACN,IAAK,EACL,IAAK,GACL,QAAS,KAEb,WAAW,WAAW,IAAI,YAAa,CACnC,MAAO,aACP,YAAa,2CACb,KAAM,SACN,QAAS,MAEb,WAAW,WAAW,IAAI,SAAU,CAChC,MAAO,SACP,YAAa,oDACb,KAAM,SACN,QAAS,KAEb,WAAW,WAAW,IAAI,oBAAqB,CAC3C,MAAO,sBACP,YAAa,0IACb,KAAM,SACN,QAAS,MAGb,WAAW,UAAU,WAAa,WAC9B,IAAI,EAAM,KAAK,IACX,EAAiB,EAAI,eACrB,EAAS,EAAe,OAE5B,KAAK,YAAc,IAAI,GAAG,KAE1B,KAAK,UAAY,CACb,YAAa,EACb,OAAQ,IAAI,GAAG,KACf,IAAK,IAAI,GAAG,MAEhB,KAAK,WAAa,CACd,YAAa,EACb,OAAQ,IAAI,GAAG,KACf,IAAK,IAAI,GAAG,MAGhB,KAAK,aAAe,EAEpB,IAAI,EAAa,SAAU,GACvB,EAAE,iBAMF,IAJA,IAAI,EAAU,EAAe,MAAQ,EAAO,YACxC,EAAU,EAAe,OAAS,EAAO,aAEzC,EAAU,EAAE,eACP,EAAI,EAAG,EAAI,EAAQ,OAAQ,IAAK,CACrC,IAAI,EAAQ,EAAQ,GAEpB,GAAI,EAAM,OAAS,EAAO,YAAc,IAAoC,IAA/B,KAAK,UAAU,WAExD,KAAK,UAAU,WAAa,EAAM,WAClC,KAAK,UAAU,OAAO,IAAI,EAAM,MAAO,EAAM,OAC7C,KAAK,UAAU,IAAI,IAAI,EAAG,GAC1B,EAAI,KAAK,sBAAuB,EAAM,MAAQ,EAAS,EAAM,MAAQ,QAClE,GAAI,EAAM,MAAQ,EAAO,YAAc,IAAqC,IAAhC,KAAK,WAAW,WAAmB,CAElF,KAAK,WAAW,WAAa,EAAM,WACnC,KAAK,WAAW,OAAO,IAAI,EAAM,MAAO,EAAM,OAC9C,KAAK,WAAW,IAAI,IAAI,EAAG,GAC3B,EAAI,KAAK,uBAAwB,EAAM,MAAQ,EAAS,EAAM,MAAQ,GAGtE,IAAI,EAAM,KAAK,MACX,EAAM,KAAK,aAAe,KAAK,mBAC/B,EAAI,KAAK,oBAEb,KAAK,aAAe,KAG9B,KAAK,MAEH,EAAY,SAAU,GACtB,EAAE,iBAMF,IAJA,IAAI,EAAU,EAAe,MAAQ,EAAO,YACxC,EAAU,EAAe,OAAS,EAAO,aAEzC,EAAU,EAAE,eACP,EAAI,EAAG,EAAI,EAAQ,OAAQ,IAAK,CACrC,IAAI,EAAQ,EAAQ,GAGhB,EAAM,aAAe,KAAK,UAAU,YACpC,KAAK,UAAU,IAAI,IAAI,EAAM,MAAO,EAAM,OAC1C,KAAK,UAAU,IAAI,IAAI,KAAK,UAAU,QACtC,KAAK,UAAU,IAAI,MAAM,EAAI,KAAK,QAClC,EAAI,KAAK,oBAAqB,EAAM,MAAQ,EAAS,EAAM,MAAQ,IAC5D,EAAM,aAAe,KAAK,WAAW,aAC5C,KAAK,WAAW,IAAI,IAAI,EAAM,MAAO,EAAM,OAC3C,KAAK,WAAW,IAAI,IAAI,KAAK,WAAW,QACxC,KAAK,WAAW,IAAI,MAAM,EAAI,KAAK,QACnC,EAAI,KAAK,qBAAsB,EAAM,MAAQ,EAAS,EAAM,MAAQ,MAG9E,KAAK,MAEH,EAAW,SAAU,GACrB,EAAE,iBAGF,IADA,IAAI,EAAU,EAAE,eACP,EAAI,EAAG,EAAI,EAAQ,OAAQ,IAAK,CACrC,IAAI,EAAQ,EAAQ,GAGhB,EAAM,aAAe,KAAK,UAAU,YACpC,KAAK,UAAU,YAAc,EAC7B,EAAI,KAAK,sBAAuB,GAChC,EAAI,KAAK,qBAAsB,GAC/B,EAAI,KAAK,yBACF,EAAM,aAAe,KAAK,WAAW,aAC5C,KAAK,WAAW,YAAc,EAC9B,EAAI,KAAK,4BAGnB,KAAK,MAGH,kBAAoB,WACpB,EAAO,iBAAiB,aAAc,GAAY,GAClD,EAAO,iBAAiB,YAAa,GAAW,GAChD,EAAO,iBAAiB,WAAY,GAAU,IAQlD,KAAK,GAAG,SAAU,mBAClB,KAAK,GAAG,WAPmB,WACvB,EAAO,oBAAoB,aAAc,GAAY,GACrD,EAAO,oBAAoB,YAAa,GAAW,GACnD,EAAO,oBAAoB,WAAY,GAAU,MAMrD,qBAGJ,WAAW,UAAU,OAAS,SAAS,GACnC,IAAI,EAAM,KAAK,IAGf,IAAmC,IAA/B,KAAK,UAAU,WAAmB,CAElC,oBAAoB,KAAK,UAAU,IAAK,KAAK,YAAa,KAAK,SAAU,GAEzE,IAAI,EAAS,KAAK,YAAY,EAC1B,KAAK,aAAe,IACpB,EAAI,KAAK,qBAAsB,GAC/B,KAAK,WAAa,GAEtB,IAAI,GAAW,KAAK,YAAY,EAC5B,KAAK,cAAgB,IACrB,EAAI,KAAK,sBAAuB,GAChC,KAAK,YAAc,GAK3B,IAAoC,IAAhC,KAAK,WAAW,WAAmB,CAEnC,oBAAoB,KAAK,WAAW,IAAK,KAAK,YAAa,KAAK,SAAU,GAE1E,IAAI,GAAiB,KAAK,YAAY,EAAI,KAAK,UAAY,EACvD,GAAc,KAAK,YAAY,EAAI,KAAK,UAAY,EACxD,EAAI,KAAK,mBAAoB,EAAe,KAQpD,IAAI,aAAe,GAAG,aAAa,gBAEnC,aAAa,WAAW,IAAI,cAAe,CACvC,MAAO,gBACP,YAAa,0JACb,KAAM,SACN,IAAK,EACL,IAAK,GACL,QAAS,KAEb,aAAa,WAAW,IAAI,eAAgB,CACxC,MAAO,iBACP,YAAa,oJACb,KAAM,SACN,IAAK,EACL,IAAK,GACL,QAAS,KAEb,aAAa,WAAW,IAAI,YAAa,CACrC,MAAO,aACP,YAAa,2CACb,KAAM,SACN,QAAS,KAGb,aAAa,UAAU,WAAa,WACtB,KAAK,IAEf,KAAK,WAAa,EAClB,KAAK,YAAc,EACnB,KAAK,UAAW,EAEhB,KAAK,YAAc,IAAI,GAAG,KAE1B,KAAK,UAAY,CACb,OAAQ,IAAI,GAAG,KACf,IAAK,IAAI,GAAG,MAEhB,KAAK,WAAa,CACd,OAAQ,IAAI,GAAG,KACf,IAAK,IAAI,GAAG,MAIhB,IAAI,kBAAoB,WACpB,OAAO,iBAAiB,oBAAoB,SAAS,OACrD,OAAO,iBAAiB,uBAAuB,SAAS,QAO5D,KAAK,GAAG,SAAU,mBAClB,KAAK,GAAG,WANmB,WACvB,OAAO,oBAAoB,oBAAoB,SAAS,OACxD,OAAO,oBAAoB,uBAAuB,SAAS,UAM/D,qBAGJ,aAAa,UAAU,OAAS,SAAS,GAKrC,IAJA,IAAI,EAAM,KAAK,IAEX,EAAW,UAAU,YAAc,UAAU,cAAgB,GAExD,EAAI,EAAG,EAAI,EAAS,OAAQ,IAAK,CACtC,IAAI,EAAU,EAAS,GAGvB,GAAI,GAA+B,aAApB,EAAQ,SAA0B,EAAQ,KAAK,QAAU,EAAG,CAEvE,KAAK,UAAU,IAAI,IAAI,EAAQ,KAAK,GAAI,EAAQ,KAAK,IACrD,oBAAoB,KAAK,UAAU,IAAK,KAAK,YAAa,KAAK,YAAa,KAAK,cAEjF,IAAI,EAAS,KAAK,YAAY,EAC1B,KAAK,aAAe,IACpB,EAAI,KAAK,qBAAsB,GAC/B,KAAK,WAAa,GAEtB,IAAI,GAAW,KAAK,YAAY,EAC5B,KAAK,cAAgB,IACrB,EAAI,KAAK,sBAAuB,GAChC,KAAK,YAAc,GAIvB,KAAK,WAAW,IAAI,IAAI,EAAQ,KAAK,GAAI,EAAQ,KAAK,IACtD,oBAAoB,KAAK,WAAW,IAAK,KAAK,YAAa,KAAK,YAAa,KAAK,cAElF,IAAI,GAAiB,KAAK,YAAY,EAAI,KAAK,UAAY,EACvD,GAAc,KAAK,YAAY,EAAI,KAAK,UAAY,EACxD,EAAI,KAAK,mBAAoB,EAAe,GAGxC,EAAQ,QAAQ,GAAG,UAAY,KAAK,UACpC,EAAI,KAAK,oBAEb,KAAK,SAAW,EAAQ,QAAQ,GAAG,WC3f/C,IAAI,aAAe,GAAG,aAAa,gBAEnC,aAAa,WAAW,IAAI,kBAAmB,CAAC,KAAM,WACtD,aAAa,WAAW,IAAI,iBAAkB,CAAC,KAAM,QAAS,UAAW,aAEzE,aAAa,UAAU,WAAa,WAC5B,KAAK,IAAI,OAAO,OAAO,OAAS,GAEhC,KAAK,UAAU,KAAK,IAAI,OAAO,OAAO,GAAG,OAIjD,aAAa,UAAU,OAAS,WACxB,KAAK,QAED,KAAK,OAAO,cAAc,EAAI,KAAK,eACnC,KAAK,YAAY,KAAK,SAKlC,aAAa,UAAU,UAAY,SAAS,GACxC,IAAI,EAAQ,KAAK,IAAI,OAAO,KAAK,GAEjC,KAAK,IAAI,OAAO,mBAAmB,EAAM,KAAK,CAAC,EAAK,KAC5C,EACA,QAAQ,MAAM,IAEd,EAAsB,SAAS,KAAK,iBACpC,KAAK,gBACL,KAAK,OAAS,KAAK,oBAChB,KAAK,QACJ,KAAK,YAAY,KAAK,aAMtC,aAAa,UAAU,cAAgB,WACnC,KAAK,WAAa,KAAK,gBAAgB,WAAW,cAClD,KAAK,cAAgB,KAAK,gBAAgB,WAAW,iBAAiB,cAAc,GAGxF,aAAa,UAAU,kBAAoB,WACvC,IAAI,EAAS,KAAK,eAAe,SAAS,cAE1C,OADA,KAAK,IAAI,KAAK,SAAS,GAChB,GAGX,aAAa,UAAU,YAAc,SAAS,GAC1C,IAAI,EAAS,IAAI,GAAG,KAAK,EAAG,EAAG,GAC/B,EAAO,UAAU,SAAS,KAAK,WAAW,cAAc,IAAI,IAC5D,KAAK,IAAI,KAAK,2BACd,IAAI,EAAO,KAAK,WAAW,QAAQ,QACnC,EAAK,EAAI,EACT,EAAK,YACL,IAAI,EAAU,KAAK,OAAO,EAAK,GAAI,EAAK,IAAM,IAAM,KAAK,KAC/C,IAAI,GAAG,MAAO,iBAAiB,GAAG,KAAK,IAAK,GAClD,gBAAgB,KAAK,WAAW,QAAS,GAC7C,IAAI,EAAY,KAAK,KAAK,EAAK,EAAG,EAAK,IAAM,IAAM,KAAK,IACxD,KAAK,IAAI,KAAK,wBAAyB,EAAS,IC5DpD,IAAI,UAAY,GAAG,aAAa,aAEhC,UAAU,WAAW,IAAI,MAAO,CAAE,KAAM,QAAS,UAAW,QAC5D,UAAU,WAAW,IAAI,OAAQ,CAAE,KAAM,QAAS,UAAW,SAE7D,UAAU,UAAU,WAAa,WAC7B,IAAI,EAAO,KACP,EAAQ,SAAS,cAAc,SACnC,EAAM,KAAO,WACb,SAAS,KAAK,YAAY,GAC1B,EAAM,UAAY,KAAK,IAAI,UAAY,GAGvC,KAAK,IAAM,SAAS,cAAc,OAClC,KAAK,IAAI,UAAU,IAAI,aACvB,KAAK,IAAI,UAAY,KAAK,KAAK,UAAY,GAC3C,SAAS,KAAK,YAAY,KAAK,KAErB,IAAI,IAAI,CACd,GAAI,OACJ,KAAM,CACF,WAAY,OAAO,SAAS,mBAEhC,UACI,SAAS,iBAAiB,mBAAoB,KAAK,kBAAkB,IAEzE,QAAS,CACL,kBAAmB,WACf,SAAS,KAAK,qBAElB,eAAgB,WACZ,SAAS,kBAEb,iBAAkB,WACX,SAAS,yBAAgE,OAArC,SAAS,wBAC5C,KAAK,YAAa,EAElB,KAAK,YAAa,GAG1B,eAAgB,WACZ,EAAK,IAAI,KAAK,sBAElB,SAAU,SAAS,GACf,IAAI,EAAS,EAAE,cAAc,aAAa,eAC5B,SAAS,eAAe,GAC9B,UAAU,IAAI,cAE1B,UAAW,SAAS,GACH,EAAE,cAAc,cACtB,UAAU,OAAO,kBChDxC,IAAI,WAAa,GAAG,aAAa,cAEjC,WAAW,UAAU,WAAa,WAC9B,KAAK,oBAAqB,EAC1B,KAAK,QAAU,KACf,KAAK,IAAI,GAAG,qBAAqB,WAC7B,KAAK,oBAAqB,EAE1B,KAAK,QAAU,OAAO,KAAK,GAAI,IAC/B,KAAK,QAAQ,SAAS,MAAQ,aAC9B,KAAK,QAAQ,SAAS,KAAK,MAAM,OAAS,IAC1C,KAAK,QAAQ,UACd,MAEH,KAAK,IAAI,GAAG,aAAc,KAAK,WAAY,OAG/C,WAAW,UAAU,eAAiB,WAClC,IAAI,EAAS,KAAK,IAAI,eAAe,OAErC,IAAI,EAAO,SAAS,cAAc,KAClC,EAAK,KAAO,EAAO,YACnB,EAAK,SAAW,iBACnB,EAAK,SAGN,WAAW,UAAU,WAAa,WAC1B,KAAK,qBACL,KAAK,iBACL,KAAK,oBAAqB","sourcesContent":["// character-controller.js\nvar CharacterController = pc.createScript('characterController');\n\nCharacterController.attributes.add('speed', { type: 'number', default: 5 });\nCharacterController.attributes.add('jumpImpulse', { type: 'number', default: 400 });\n\nCharacterController.prototype.initialize = function() {\n    this.groundCheckRay = new pc.Vec3(0, -1.2, 0);\n    this.rayEnd = new pc.Vec3();\n\n    this.groundNormal = new pc.Vec3();\n    this.onGround = true;\n    this.jumping = false;\n};\n\nCharacterController.prototype.move = function (direction) {\n    if (this.onGround && !this.jumping) {\n        var tmp = new pc.Vec3();\n\n        var length = direction.length();\n        if (length > 0) {\n            tmp.cross(this.groundNormal, direction).cross(tmp, this.groundNormal);\n            tmp.normalize().scale(length * this.speed);\n        }\n        this.entity.rigidbody.linearVelocity = tmp;\n    }\n};\n\nCharacterController.prototype.jump = function () {\n    if (this.onGround && !this.jumping) {\n        this.entity.rigidbody.applyImpulse(0, this.jumpImpulse, 0);\n        this.onGround = false;\n        this.jumping = true;\n        setTimeout(function () {\n            this.jumping = false;\n        }.bind(this), 500);\n    }\n};\n\nCharacterController.prototype.update = function(dt) {\n    var pos = this.entity.getPosition();\n    this.rayEnd.add2(pos, this.groundCheckRay);\n    \n    var result = this.app.systems.rigidbody.raycastFirst(pos, this.rayEnd);\n    this.onGround = !!result;\n    if (result) {\n        this.groundNormal.copy(result.normal);\n    }\n};\n\n\n","// virtual-joystick.js\nvar VirtualJoystick = pc.createScript('virtualJoystick');\n\nVirtualJoystick.attributes.add('stick', { type: 'entity' });\nVirtualJoystick.attributes.add('enableEvent', { type: 'string' });\nVirtualJoystick.attributes.add('moveEvent', { type: 'string' });\nVirtualJoystick.attributes.add('disableEvent', { type: 'string' });\n\nVirtualJoystick.prototype.initialize = function() {\n    var app = this.app;\n\n    app.on(this.enableEvent, function (x, y) {\n        this.entity.setLocalPosition(x, -y, 0);\n        this.stick.setLocalPosition(x, -y, 0);\n\n        this.entity.element.enabled = true;\n        this.stick.element.enabled = true;\n    }, this);\n    app.on(this.moveEvent, function (x, y) {\n        this.stick.setLocalPosition(x, -y, 0);\n    }, this);\n    app.on(this.disableEvent, function () {\n        this.entity.element.enabled = false;\n        this.stick.element.enabled = false;\n    }, this);\n};\n\n\n","// first-person-view.js\n////////////////////////////////////////////////////////////////////////////////\n//         First Person Controls That Drive a Character Controller            //\n////////////////////////////////////////////////////////////////////////////////\nvar FirstPersonView = pc.createScript('firstPersonView');\n\nFirstPersonView.attributes.add('camera', { type: 'entity' });\n\nFirstPersonView.prototype.initialize = function() {\n    var app = this.app;\n\n    this.x = new pc.Vec3();\n    this.z = new pc.Vec3();\n    this.heading = new pc.Vec3();\n    this.magnitude = new pc.Vec2();\n\n    this.azimuth = 0;\n    this.elevation = 0;\n\n    // Calculate camera azimuth/elevation\n    var temp = this.camera.forward.clone();\n    temp.y = 0;\n    temp.normalize();\n    this.azimuth = Math.atan2(-temp.x, -temp.z) * (180 / Math.PI);\n\n    var rot = new pc.Mat4().setFromAxisAngle(pc.Vec3.UP, -this.azimuth);\n    rot.transformVector(this.camera.forward, temp);\n    this.elevation = Math.atan(temp.y, temp.z) * (180 / Math.PI);\n\n    this.forward = 0;\n    this.strafe = 0;\n    this.jump = false;\n    this.cnt = 0;\n\n    app.on('firstperson:forward', function (value) {\n        this.forward = value;\n    }, this);\n    app.on('firstperson:strafe', function (value) {\n        this.strafe = value;\n    }, this);\n    app.on('firstperson:look', function (azimuthDelta, elevationDelta) {\n        this.azimuth += azimuthDelta;\n        this.elevation += elevationDelta;\n        this.elevation = pc.math.clamp(this.elevation, -90, 90);\n    }, this);\n    app.on('firstperson:jump', function () {\n        this.jump = true;\n    }, this);\n    \n    // MARK\n    app.on('firstperson:resetCamera', this.resetCamera(), this);\n    // MARK\n    app.on('firstperson:setCamera', function (azimuth, elevation) {\n        this.azimuth = azimuth;\n        this.elevation = elevation;\n    }, this);\n};\n\nFirstPersonView.prototype.postUpdate = function(dt) {\n    // Update the camera's orientation\n    this.camera.setEulerAngles(this.elevation, this.azimuth, 0);\n\n    // Calculate the camera's heading in the XZ plane\n    this.z.copy(this.camera.forward);\n    this.z.y = 0;\n    this.z.normalize();\n\n    this.x.copy(this.camera.right);\n    this.x.y = 0;\n    this.x.normalize();\n\n    this.heading.set(0, 0, 0);\n\n    // Move forwards/backwards\n    if (this.forward !== 0) {\n        this.z.scale(this.forward);\n        this.heading.add(this.z);\n    }\n\n    // Strafe left/right\n    if (this.strafe !== 0) {\n        this.x.scale(this.strafe);\n        this.heading.add(this.x);\n    }\n\n    if (this.heading.length() > 0.0001) {\n        this.magnitude.set(this.forward, this.strafe);\n        this.heading.normalize().scale(this.magnitude.length());\n    }\n\n    if (this.jump) {\n        this.entity.script.characterController.jump();\n        this.jump = false;\n    }\n\n    this.entity.script.characterController.move(this.heading);\n\n    var pos = this.camera.getPosition();\n    this.app.fire('cameramove', pos);\n};\n\nFirstPersonView.prototype.resetCamera = function() {\n    this.azimuth = 0;\n    this.elevation = 0;\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//  FPS Keyboard Controls (Movement Only - Work Alongside Mouse Look Script)  //\n////////////////////////////////////////////////////////////////////////////////\nvar KeyboardInput = pc.createScript('keyboardInput');\n\nKeyboardInput.prototype.initialize = function() {\n    var app = this.app;\n\n    var updateMovement = function (keyCode, value) {\n        // MARK\n        switch (keyCode) {\n            case 38: // Up arrow\n            case 87: // W\n                // app.fire('firstperson:forward', value);\n                app.fire('firstperson:forward', -value);\n                break;\n            case 40: // Down arrow\n            case 83: // S\n                // app.fire('firstperson:forward', -value);\n                app.fire('firstperson:forward', value);\n                break;\n            case 37: // Left arrow\n            case 65: // A\n                // app.fire('firstperson:strafe', -value);\n                app.fire('firstperson:strafe', value);\n                break;\n            case 39: // Right arrow\n            case 68: // D\n                // app.fire('firstperson:strafe', value);\n                app.fire('firstperson:strafe', -value);\n                break;\n        }\n    };\n\n    var keyDown = function (e) {\n        if (!e.repeat) {\n            updateMovement(e.keyCode, 1);\n\n            if (e.keyCode === 32) { // Space\n                app.fire('firstperson:jump');\n            }\n        }\n    };\n\n    var keyUp = function (e) {\n        updateMovement(e.keyCode, 0);\n    };\n\n    // Manage DOM event listeners\n    var addEventListeners = function () {\n        window.addEventListener('keydown', keyDown, true);\n        window.addEventListener('keyup', keyUp, true);\n    };\n    var removeEventListeners = function () {\n        window.addEventListener('keydown', keyDown, true);\n        window.addEventListener('keyup', keyUp, true);\n    };\n\n    this.on('enable', addEventListeners);\n    this.on('disable', removeEventListeners);\n    \n    addEventListeners();\n};\n\n\nvar MouseInput = pc.createScript('mouseInput');\n\nMouseInput.prototype.initialize = function() {\n    var app = this.app;\n    var canvas = app.graphicsDevice.canvas;\n    var isDragging = false;\n\n    var mouseDown = function (e) {\n        this.isDragging = true;\n    };\n\n    var mouseMove = function (e) {\n        if (this.isDragging === true) {\n            var movementX = event.movementX || event.webkitMovementX || event.mozMovementX || 0;\n            var movementY = event.movementY || event.webkitMovementY || event.mozMovementY || 0;\n            \n            // MARK\n            // app.fire('firstperson:look', -movementX / 5, -movementY / 5);\n            app.fire('firstperson:look', -movementX / 5, movementY / 5);\n        }\n    };\n    \n    var mouseUp = function (e) {\n        this.isDragging = false;\n    };\n\n    var addEventListeners = function () {\n        window.addEventListener('mousedown', mouseDown, false);\n        window.addEventListener('mousemove', mouseMove, false);\n        window.addEventListener('mouseup', mouseUp, false);\n    };\n    var removeEventListeners = function () {\n        window.removeEventListener('mousedown', mouseDown, false);\n        window.removeEventListener('mousemove', mouseMove, false);\n        window.removeEventListener('mouseup', mouseUp, false);\n    };\n\n    this.on('enable', addEventListeners);\n    this.on('disable', removeEventListeners);\n    \n    addEventListeners();\n};\n\n// Utility function for both touch and gamepad handling of deadzones\n// Takes a 2-axis joystick position in the range -1 to 1 and applies\n// an upper and lower radial deadzone, remapping values in the legal\n// range from 0 to 1.\nfunction applyRadialDeadZone(pos, remappedPos, deadZoneLow, deadZoneHigh) {\n    var magnitude = pos.length();\n \n    if (magnitude > deadZoneLow) {\n        var legalRange = 1 - deadZoneHigh - deadZoneLow;\n        var normalizedMag = Math.min(1, (magnitude - deadZoneLow) / legalRange);\n        var scale = normalizedMag / magnitude; \n        remappedPos.copy(pos).scale(scale);\n    } else {\n        remappedPos.set(0, 0);\n    }\n}\n\n\nvar TouchInput = pc.createScript('touchInput');\n\nTouchInput.attributes.add('deadZone', {\n    title: 'Dead Zone',\n    description: 'Radial thickness of inner dead zone of the virtual joysticks. This dead zone ensures the virtual joysticks report a value of 0 even if a touch deviates a small amount from the initial touch.',\n    type: 'number',\n    min: 0,\n    max: 0.4,\n    default: 0.3\n});\nTouchInput.attributes.add('turnSpeed', {\n    title: 'Turn Speed',\n    description: 'Maximum turn speed in degrees per second',\n    type: 'number',\n    default: 150\n});\nTouchInput.attributes.add('radius', {\n    title: 'Radius',\n    description: 'The radius of the virtual joystick in CSS pixels.',\n    type: 'number',\n    default: 50\n});\nTouchInput.attributes.add('doubleTapInterval', {\n    title: 'Double Tap Interval',\n    description: 'The time in milliseconds between two taps of the right virtual joystick for a double tap to register. A double tap will trigger a jump.',\n    type: 'number',\n    default: 300\n});\n\nTouchInput.prototype.initialize = function() {\n    var app = this.app;\n    var graphicsDevice = app.graphicsDevice;\n    var canvas = graphicsDevice.canvas;\n\n    this.remappedPos = new pc.Vec2();\n    \n    this.leftStick = {\n        identifier: -1,\n        center: new pc.Vec2(),\n        pos: new pc.Vec2()\n    };\n    this.rightStick = {\n        identifier: -1,\n        center: new pc.Vec2(),\n        pos: new pc.Vec2()\n    };\n    \n    this.lastRightTap = 0;\n\n    var touchStart = function (e) {\n        e.preventDefault();\n\n        var xFactor = graphicsDevice.width / canvas.clientWidth;\n        var yFactor = graphicsDevice.height / canvas.clientHeight;\n\n        var touches = e.changedTouches;\n        for (var i = 0; i < touches.length; i++) {\n            var touch = touches[i];\n            \n            if (touch.pageX <= canvas.clientWidth / 2 && this.leftStick.identifier === -1) {\n                // If the user touches the left half of the screen, create a left virtual joystick...\n                this.leftStick.identifier = touch.identifier;\n                this.leftStick.center.set(touch.pageX, touch.pageY);\n                this.leftStick.pos.set(0, 0);\n                app.fire('leftjoystick:enable', touch.pageX * xFactor, touch.pageY * yFactor);\n            } else if (touch.pageX > canvas.clientWidth / 2 && this.rightStick.identifier === -1) {\n                // ...otherwise create a right virtual joystick\n                this.rightStick.identifier = touch.identifier;\n                this.rightStick.center.set(touch.pageX, touch.pageY);\n                this.rightStick.pos.set(0, 0);\n                app.fire('rightjoystick:enable', touch.pageX * xFactor, touch.pageY * yFactor);\n                \n                // See how long since the last tap of the right virtual joystick to detect a double tap (jump)\n                var now = Date.now();\n                if (now - this.lastRightTap < this.doubleTapInterval) {\n                    app.fire('firstperson:jump');\n                }\n                this.lastRightTap = now;\n            }\n        }\n    }.bind(this);\n\n    var touchMove = function (e) {\n        e.preventDefault();\n\n        var xFactor = graphicsDevice.width / canvas.clientWidth;\n        var yFactor = graphicsDevice.height / canvas.clientHeight;\n        \n        var touches = e.changedTouches;\n        for (var i = 0; i < touches.length; i++) {\n            var touch = touches[i];\n\n            // Update the current positions of the two virtual joysticks\n            if (touch.identifier === this.leftStick.identifier) {\n                this.leftStick.pos.set(touch.pageX, touch.pageY);\n                this.leftStick.pos.sub(this.leftStick.center);\n                this.leftStick.pos.scale(1 / this.radius);\n                app.fire('leftjoystick:move', touch.pageX * xFactor, touch.pageY * yFactor);\n            } else if (touch.identifier === this.rightStick.identifier) {\n                this.rightStick.pos.set(touch.pageX, touch.pageY);\n                this.rightStick.pos.sub(this.rightStick.center);\n                this.rightStick.pos.scale(1 / this.radius);\n                app.fire('rightjoystick:move', touch.pageX * xFactor, touch.pageY * yFactor);\n            }\n        }\n    }.bind(this);\n\n    var touchEnd = function (e) {\n        e.preventDefault();\n\n        var touches = e.changedTouches;\n        for (var i = 0; i < touches.length; i++) {\n            var touch = touches[i];\n\n            // If this touch is one of the sticks, get rid of it...\n            if (touch.identifier === this.leftStick.identifier) {\n                this.leftStick.identifier = -1;\n                app.fire('firstperson:forward', 0);\n                app.fire('firstperson:strafe', 0);\n                app.fire('leftjoystick:disable');\n            } else if (touch.identifier === this.rightStick.identifier) {\n                this.rightStick.identifier = -1;\n                app.fire('rightjoystick:disable');\n            }\n        }\n    }.bind(this);\n\n    // Manage DOM event listeners\n    var addEventListeners = function () {\n        canvas.addEventListener('touchstart', touchStart, false);\n        canvas.addEventListener('touchmove', touchMove, false);\n        canvas.addEventListener('touchend', touchEnd, false);\n    };\n    var removeEventListeners = function () {\n        canvas.removeEventListener('touchstart', touchStart, false);\n        canvas.removeEventListener('touchmove', touchMove, false);\n        canvas.removeEventListener('touchend', touchEnd, false);\n    };\n\n    this.on('enable', addEventListeners);\n    this.on('disable', removeEventListeners);\n    \n    addEventListeners();\n};\n\nTouchInput.prototype.update = function(dt) {\n    var app = this.app;\n    \n    // Moving\n    if (this.leftStick.identifier !== -1) {\n        // Apply a lower radial dead zone. We don't need an upper zone like with a real joypad\n        applyRadialDeadZone(this.leftStick.pos, this.remappedPos, this.deadZone, 0);\n\n        var strafe = this.remappedPos.x;\n        if (this.lastStrafe !== strafe) {\n            app.fire('firstperson:strafe', strafe);\n            this.lastStrafe = strafe;\n        }\n        var forward = -this.remappedPos.y;\n        if (this.lastForward !== forward) {\n            app.fire('firstperson:forward', forward);\n            this.lastForward = forward;\n        }\n    }\n\n    // Looking\n    if (this.rightStick.identifier !== -1) {\n        // Apply a lower radial dead zone. We don't need an upper zone like with a real joypad\n        applyRadialDeadZone(this.rightStick.pos, this.remappedPos, this.deadZone, 0);\n\n        var lookLeftRight = -this.remappedPos.x * this.turnSpeed * dt;\n        var lookUpDown = -this.remappedPos.y * this.turnSpeed * dt;\n        app.fire('firstperson:look', lookLeftRight, lookUpDown);\n    }\n};\n\n\n////////////////////////////////////////////////////////////////////////////////\n//                 Dual Analog Stick FPS Gamepad Controls                     //\n////////////////////////////////////////////////////////////////////////////////\nvar GamePadInput = pc.createScript('gamePadInput');\n\nGamePadInput.attributes.add('deadZoneLow', { \n    title: 'Low Dead Zone',\n    description: 'Radial thickness of inner dead zone of pad\\'s joysticks. This dead zone ensures that all pads report a value of 0 for each joystick axis when untouched.',\n    type: 'number',\n    min: 0,\n    max: 0.4,\n    default: 0.1\n});\nGamePadInput.attributes.add('deadZoneHigh', {\n    title: 'High Dead Zone',\n    description: 'Radial thickness of outer dead zone of pad\\'s joysticks. This dead zone ensures that all pads can reach the -1 and 1 limits of each joystick axis.',\n    type: 'number',\n    min: 0,\n    max: 0.4,\n    default: 0.1\n});\nGamePadInput.attributes.add('turnSpeed', {\n    title: 'Turn Speed',\n    description: 'Maximum turn speed in degrees per second',\n    type: 'number',\n    default: 90\n});\n\nGamePadInput.prototype.initialize = function() {\n    var app = this.app;\n\n    this.lastStrafe = 0;\n    this.lastForward = 0;\n    this.lastJump = false;\n\n    this.remappedPos = new pc.Vec2();\n    \n    this.leftStick = {\n        center: new pc.Vec2(),\n        pos: new pc.Vec2()\n    };\n    this.rightStick = {\n        center: new pc.Vec2(),\n        pos: new pc.Vec2()\n    };\n\n    // Manage DOM event listeners\n    var addEventListeners = function () {\n        window.addEventListener(\"gamepadconnected\", function(e) {});\n        window.addEventListener(\"gamepaddisconnected\", function(e) {});\n    };\n    var removeEventListeners = function () {\n        window.removeEventListener(\"gamepadconnected\", function(e) {});\n        window.removeEventListener(\"gamepaddisconnected\", function(e) {});\n    };\n\n    this.on('enable', addEventListeners);\n    this.on('disable', removeEventListeners);\n    \n    addEventListeners();\n};\n\nGamePadInput.prototype.update = function(dt) {\n    var app = this.app;\n\n    var gamepads = navigator.getGamepads ? navigator.getGamepads() : [];\n\n    for (var i = 0; i < gamepads.length; i++) {\n        var gamepad = gamepads[i];\n\n        // Only proceed if we have at least 2 sticks\n        if (gamepad && gamepad.mapping === 'standard' && gamepad.axes.length >= 4) {\n            // Moving (left stick)\n            this.leftStick.pos.set(gamepad.axes[0], gamepad.axes[1]);\n            applyRadialDeadZone(this.leftStick.pos, this.remappedPos, this.deadZoneLow, this.deadZoneHigh);\n\n            var strafe = this.remappedPos.x;\n            if (this.lastStrafe !== strafe) {\n                app.fire('firstperson:strafe', strafe);\n                this.lastStrafe = strafe;\n            }\n            var forward = -this.remappedPos.y;\n            if (this.lastForward !== forward) {\n                app.fire('firstperson:forward', forward);\n                this.lastForward = forward;\n            }\n\n            // Looking (right stick)\n            this.rightStick.pos.set(gamepad.axes[2], gamepad.axes[3]);\n            applyRadialDeadZone(this.rightStick.pos, this.remappedPos, this.deadZoneLow, this.deadZoneHigh);\n\n            var lookLeftRight = -this.remappedPos.x * this.turnSpeed * dt;\n            var lookUpDown = -this.remappedPos.y * this.turnSpeed * dt;\n            app.fire('firstperson:look', lookLeftRight, lookUpDown);\n\n            // Jumping (bottom button of right cluster)\n            if (gamepad.buttons[0].pressed && !this.lastJump) {\n                app.fire('firstperson:jump');\n            }\n            this.lastJump = gamepad.buttons[0].pressed;\n        }\n    }\n};\n\n\n","// scene-manager.js\nlet SceneManager = pc.createScript('sceneManager');\n\nSceneManager.attributes.add('sceneRootEntity', {type: 'entity'});\nSceneManager.attributes.add('playerTemplate', {type: 'asset', assetType: 'template'});\n\nSceneManager.prototype.initialize = function() {\n    if (this.app.scenes.list().length > 1)\n    {\n        this.loadSpace(this.app.scenes.list()[1].name);\n    }\n};\n\nSceneManager.prototype.update = function() {\n    if (this.player)\n    {\n        if (this.player.getPosition().y < this.despawnHeight) {\n            this.spawnPlayer(this.player);\n        }\n    }\n};\n\nSceneManager.prototype.loadSpace = function(spaceName) {\n    let scene = this.app.scenes.find(spaceName);\n\n    this.app.scenes.loadSceneHierarchy(scene.url, (err, loadedSceneRootEntity) => {\n        if (err) {\n            console.error(err);\n        } else {\n            loadedSceneRootEntity.reparent(this.sceneRootEntity);\n            this.initComponent();\n            this.player = this.instantiatePlayer();\n            if(this.player) {\n                this.spawnPlayer(this.player);\n            }\n        }\n    });\n};\n\nSceneManager.prototype.initComponent = function() {\n    this.spawnPoint = this.sceneRootEntity.findByName('SpawnPoint');\n    this.despawnHeight = this.sceneRootEntity.findByName('DespawnHeight').getPosition().y;\n};\n\nSceneManager.prototype.instantiatePlayer = function() {\n    let player = this.playerTemplate.resource.instantiate();\n    this.app.root.addChild(player);\n    return player;\n};\n\nSceneManager.prototype.spawnPlayer = function(player) {\n    let offset = new pc.Vec3(0, 1, 0);\n    player.rigidbody.teleport(this.spawnPoint.getPosition().add(offset));\n    this.app.fire('firstperson:resetCamera');\n    let temp = this.spawnPoint.forward.clone();\n    temp.y = 0;\n    temp.normalize();\n    let azimuth = Math.atan2(-temp.x, -temp.z) * (180 / Math.PI);\n    let rot = new pc.Mat4().setFromAxisAngle(pc.Vec3.UP, -azimuth);\n    rot.transformVector(this.spawnPoint.forward, temp);\n    let elevation = Math.atan(temp.y, temp.z) * (180 / Math.PI);\n    this.app.fire('firstperson:setCamera', azimuth, elevation);\n};\n\n\n","// ui-manager.js\nvar UiManager = pc.createScript('uiManager');\n\nUiManager.attributes.add('css', { type: 'asset', assetType: 'css' });\nUiManager.attributes.add('html', { type: 'asset', assetType: 'html' });\n\nUiManager.prototype.initialize = function() {\n    var self = this;\n    var style = document.createElement('style');\n    style.type = \"text/css\";\n    document.head.appendChild(style);\n    style.innerHTML = this.css.resource || '';\n    \n    \n    this.div = document.createElement('div');\n    this.div.classList.add('container');\n    this.div.innerHTML = this.html.resource || '';\n    document.body.appendChild(this.div);\n    \n    var app = new Vue({\n        el: '#app',\n        data: {\n            fullscreen: window.document.fullscreenElement\n        },\n        created() {\n            document.addEventListener(\"fullscreenchange\", this.fullscreenChange, false);\n        },\n        methods: {\n            requestFullscreen: function() {\n                document.body.requestFullscreen();\n            },\n            exitFullscreen: function() {\n                document.exitFullscreen();\n            },\n            fullscreenChange: function() {\n                if(document.webkitFullscreenElement && document.webkitFullscreenElement !== null) {\n                    this.fullscreen = true;\n                }else{\n                    this.fullscreen = false;\n                }\n            },\n            takeScreenshot: function() {\n                self.app.fire('ui:takeScreenshot');\n            },\n            showHelp: function(e) {\n                let target = e.currentTarget.getAttribute('data-target');\n                var $target = document.getElementById(target);\n                $target.classList.add('is-active');\n            },\n            closeHelp: function(e) {\n                let target = e.currentTarget.parentElement;\n                target.classList.remove('is-active');\n            }\n        }\n    });\n};\n\n\n","// screenshot.js\n// NOTE: THIS SCRIPT ONLY WORKS IF 'PRESERVE DRAWING BUFFER' IS ENABLED IN PROJECT SETTINGS\n\nvar Screenshot = pc.createScript('screenshot');\n\nScreenshot.prototype.initialize = function() {\n    this._triggerScreenshot = false;\n    this._window = null;\n    this.app.on('ui:takeScreenshot', function () {\n        this._triggerScreenshot = true;\n        \n        this._window = window.open('', '');\n        this._window.document.title = \"Screenshot\";\n        this._window.document.body.style.margin = \"0\";\n        this._window.close();\n    }, this);\n    \n    this.app.on('postrender', this.postRender, this);\n};\n\nScreenshot.prototype.takeScreenshot = function () {\n    var canvas = this.app.graphicsDevice.canvas;\n\n    let link = document.createElement(\"a\");\n    link.href = canvas.toDataURL();\n    link.download = \"Screenshot.png\";\n\tlink.click();\n};\n\nScreenshot.prototype.postRender = function () {\n    if (this._triggerScreenshot) {\n        this.takeScreenshot();\n        this._triggerScreenshot = false;\n    }\n};\n\n\n"]}